"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getGlobalDispatcher = exports.setGlobalDispatcher = exports.Dispatcher = exports.Agent = exports.ProxyAgent = exports.MockAgent = exports.USER_AGENT = exports.HttpClient = exports.request = void 0;
const HttpClient_1 = require("./HttpClient");
let httpclient;
async function request(url, options) {
    if (!httpclient) {
        if (options === null || options === void 0 ? void 0 : options.socketPath) {
            httpclient = new HttpClient_1.HttpClient({
                connect: { socketPath: options.socketPath },
            });
        }
        else {
            httpclient = new HttpClient_1.HttpClient({});
        }
    }
    return await httpclient.request(url, options);
}
exports.request = request;
var HttpClient_2 = require("./HttpClient");
Object.defineProperty(exports, "HttpClient", { enumerable: true, get: function () { return HttpClient_2.HttpClient; } });
Object.defineProperty(exports, "USER_AGENT", { enumerable: true, get: function () { return HttpClient_2.HEADER_USER_AGENT; } });
var undici_1 = require("undici");
Object.defineProperty(exports, "MockAgent", { enumerable: true, get: function () { return undici_1.MockAgent; } });
Object.defineProperty(exports, "ProxyAgent", { enumerable: true, get: function () { return undici_1.ProxyAgent; } });
Object.defineProperty(exports, "Agent", { enumerable: true, get: function () { return undici_1.Agent; } });
Object.defineProperty(exports, "Dispatcher", { enumerable: true, get: function () { return undici_1.Dispatcher; } });
Object.defineProperty(exports, "setGlobalDispatcher", { enumerable: true, get: function () { return undici_1.setGlobalDispatcher; } });
Object.defineProperty(exports, "getGlobalDispatcher", { enumerable: true, get: function () { return undici_1.getGlobalDispatcher; } });
exports.default = {
    request,
    USER_AGENT: HttpClient_1.HEADER_USER_AGENT,
};
//# sourceMappingURL=index.js.map