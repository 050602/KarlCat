{"version":3,"file":"mydog_cli.js","sourceRoot":"","sources":["../src/mydog_cli.ts"],"names":[],"mappings":"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","sourcesContent":["import * as fs from \"fs\";\r\nimport * as path from \"path\";\r\nimport { logInfo } from \"./LogTS\";\r\n\r\n/** 接收 mydog cmd 命令 */\r\nexport function mydog_cmd(lans: string[], cmdObjArr: { \"cmd\": string, \"note\": string }[]) {\r\n    logInfo(lans, cmdObjArr);\r\n\r\n    if (lans.includes(\"ts\")) {\r\n        let endStr = 'export const enum cmd {\\n'\r\n        for (let one of cmdObjArr) {\r\n            if (one.note) {\r\n                endStr += `\\t/**\\n\\t * ${one.note}\\n\\t */\\n`;\r\n            }\r\n            let oneStr = one.cmd;\r\n            if (one.cmd.indexOf('.') !== -1) {\r\n                let tmpArr = one.cmd.split('.');\r\n                oneStr = tmpArr[0] + '_' + tmpArr[1] + '_' + tmpArr[2];\r\n            }\r\n            endStr += `\\t${oneStr} = \"${one.cmd}\",\\n`;\r\n        }\r\n        endStr += '}';\r\n        fs.writeFileSync(path.join(__dirname, \"config/cmdClient.ts\"), endStr);\r\n    }\r\n    if (lans.includes(\"cs\")) {\r\n        let endStr = 'public class Cmd\\n{\\n'\r\n        for (let one of cmdObjArr) {\r\n            if (one.note) {\r\n                endStr += `\\t/// <summary>\\n\\t/// ${one.note}\\n\\t/// </summary>\\n`;\r\n            }\r\n            let oneStr = one.cmd;\r\n            if (one.cmd.indexOf('.') !== -1) {\r\n                let tmpArr = one.cmd.split('.');\r\n                oneStr = tmpArr[0] + '_' + tmpArr[1] + '_' + tmpArr[2];\r\n            }\r\n            endStr += `\\tpublic const string ${oneStr} = \"${one.cmd}\";\\n`;\r\n        }\r\n        endStr += '}';\r\n        fs.writeFileSync(path.join(__dirname, \"config/CmdClient.cs\"), endStr);\r\n    }\r\n    if (lans.includes(\"lua\")) {\r\n        let endStr = 'local cmd = {}\\n'\r\n        for (let one of cmdObjArr) {\r\n            if (one.note) {\r\n                endStr += `-- ${one.note}\\n`;\r\n            }\r\n            let oneStr = one.cmd;\r\n            if (one.cmd.indexOf('.') !== -1) {\r\n                let tmpArr = one.cmd.split('.');\r\n                oneStr = tmpArr[0] + '_' + tmpArr[1] + '_' + tmpArr[2];\r\n            }\r\n            endStr += `cmd.${oneStr} = \"${one.cmd}\"\\n`;\r\n        }\r\n        endStr += 'return cmd';\r\n        fs.writeFileSync(path.join(__dirname, \"config/cmdClient.lua\"), endStr);\r\n    }\r\n}\r\n\r\n/** 接收 mydog send 命令的消息回调 */\r\nexport function mydog_send(reqArgv: any, timeoutIds: string[], data: { \"serverName\": string, \"serverType\": string, \"data\": any }[]) {\r\n    logInfo(\"mydog_send\", data);\r\n}"]}